{"version":3,"sources":["webpack:///./src/players/Vimeo.js"],"names":["Vimeo","callPlayer","setVolume","props","volume","container","this","onMount","url","duration","getSDK","then","config","playerOptions","title","player","Player","autoplay","playing","muted","loop","playsinline","controls","ready","iframe","querySelector","style","width","height","onError","on","onReady","refreshDuration","onPlay","onPause","e","onSeek","seconds","onEnded","currentTime","secondsLoaded","onBuffer","onBufferEnd","getDuration","promise","fraction","rate","overflow","display","key","ref","Component","canPlay","vimeo"],"mappings":"2yDAKA,IAGqBA,E,uaAINC,K,kBACF,M,qBACG,M,uBACE,M,eAwFT,WACL,EAAKC,UAAU,M,iBAGR,WACmB,OAAtB,EAAKC,MAAMC,QACb,EAAKF,UAAU,EAAKC,MAAMC,W,cAgBxB,SAAAC,GACJ,EAAKA,UAAYA,K,2DA5GjBC,KAAKH,MAAMI,SAAWD,KAAKH,MAAMI,QAAQD,Q,2BAGrCE,GAAK,WACTF,KAAKG,SAAW,KAChBC,YAlBY,yCACG,SAiBaC,MAAK,SAAAX,GAC/B,GAAK,EAAKK,UAAV,CADwC,MAEP,EAAKF,MAAMS,OAApCC,EAFgC,EAEhCA,cAAeC,EAFiB,EAEjBA,MACvB,EAAKC,OAAS,IAAIf,EAAMgB,OAAO,EAAKX,U,+VAAtB,EACZG,MACAS,SAAU,EAAKd,MAAMe,QACrBC,MAAO,EAAKhB,MAAMgB,MAClBC,KAAM,EAAKjB,MAAMiB,KACjBC,YAAa,EAAKlB,MAAMkB,YACxBC,SAAU,EAAKnB,MAAMmB,UAClBT,IAEL,EAAKE,OAAOQ,QAAQZ,MAAK,WACvB,IAAMa,EAAS,EAAKnB,UAAUoB,cAAc,UAC5CD,EAAOE,MAAMC,MAAQ,OACrBH,EAAOE,MAAME,OAAS,OAClBd,IACFU,EAAOV,MAAQA,MALnB,MAOS,EAAKX,MAAM0B,SACpB,EAAKd,OAAOe,GAAG,UAAU,WACvB,EAAK3B,MAAM4B,UACX,EAAKC,qBAEP,EAAKjB,OAAOe,GAAG,QAAQ,WACrB,EAAK3B,MAAM8B,SACX,EAAKD,qBAEP,EAAKjB,OAAOe,GAAG,QAAS,EAAK3B,MAAM+B,SACnC,EAAKnB,OAAOe,GAAG,UAAU,SAAAK,GAAC,OAAI,EAAKhC,MAAMiC,OAAOD,EAAEE,YAClD,EAAKtB,OAAOe,GAAG,QAAS,EAAK3B,MAAMmC,SACnC,EAAKvB,OAAOe,GAAG,QAAS,EAAK3B,MAAM0B,SACnC,EAAKd,OAAOe,GAAG,cAAc,YAAiB,IAAdO,EAAc,EAAdA,QAC9B,EAAKE,YAAcF,KAErB,EAAKtB,OAAOe,GAAG,YAAY,YAAiB,IAAdO,EAAc,EAAdA,QAC5B,EAAKG,cAAgBH,KAEvB,EAAKtB,OAAOe,GAAG,cAAe,EAAK3B,MAAMsC,UACzC,EAAK1B,OAAOe,GAAG,YAAa,EAAK3B,MAAMuC,gBACtCpC,KAAKH,MAAM0B,W,wCAGG,WACjBvB,KAAKS,OAAO4B,cAAchC,MAAK,SAAAF,GAC7B,EAAKA,SAAWA,O,6BAKlB,IAAMmC,EAAUtC,KAAKL,WAAW,QAC5B2C,GACFA,EAAO,MAAOtC,KAAKH,MAAM0B,W,8BAK3BvB,KAAKL,WAAW,W,6BAIhBK,KAAKL,WAAW,Y,6BAGVoC,GACN/B,KAAKL,WAAW,iBAAkBoC,K,gCAGzBQ,GACTvC,KAAKL,WAAW,YAAa4C,K,8BAGtBzB,GACPd,KAAKL,WAAW,UAAWmB,K,sCAGZ0B,GACfxC,KAAKL,WAAW,kBAAmB6C,K,oCAcnC,OAAOxC,KAAKG,W,uCAIZ,OAAOH,KAAKiC,c,yCAIZ,OAAOjC,KAAKkC,gB,+BAOJ,IAEFd,EAAQ,CACZC,MAAO,OACPC,OAAQ,OACRmB,SAAU,SACVC,QALkB1C,KAAKH,MAAjB6C,SAOR,OACE,yBACEC,IAAK3C,KAAKH,MAAMK,IAChB0C,IAAK5C,KAAK4C,IACVxB,MAAOA,S,8BArIoByB,a,EAAdnD,E,cACE,S,EADFA,E,UAEFoD,IAAQC,O,EAFNrD,E,aAGA","file":"11.app.js","sourcesContent":["import React, { Component } from 'react'\n\nimport { callPlayer, getSDK } from '../utils'\nimport { canPlay } from '../patterns'\n\nconst SDK_URL = 'https://player.vimeo.com/api/player.js'\nconst SDK_GLOBAL = 'Vimeo'\n\nexport default class Vimeo extends Component {\n  static displayName = 'Vimeo'\n  static canPlay = canPlay.vimeo\n  static forceLoad = true // Prevent checking isLoading when URL changes\n  callPlayer = callPlayer\n  duration = null\n  currentTime = null\n  secondsLoaded = null\n\n  componentDidMount () {\n    this.props.onMount && this.props.onMount(this)\n  }\n\n  load (url) {\n    this.duration = null\n    getSDK(SDK_URL, SDK_GLOBAL).then(Vimeo => {\n      if (!this.container) return\n      const { playerOptions, title } = this.props.config\n      this.player = new Vimeo.Player(this.container, {\n        url,\n        autoplay: this.props.playing,\n        muted: this.props.muted,\n        loop: this.props.loop,\n        playsinline: this.props.playsinline,\n        controls: this.props.controls,\n        ...playerOptions\n      })\n      this.player.ready().then(() => {\n        const iframe = this.container.querySelector('iframe')\n        iframe.style.width = '100%'\n        iframe.style.height = '100%'\n        if (title) {\n          iframe.title = title\n        }\n      }).catch(this.props.onError)\n      this.player.on('loaded', () => {\n        this.props.onReady()\n        this.refreshDuration()\n      })\n      this.player.on('play', () => {\n        this.props.onPlay()\n        this.refreshDuration()\n      })\n      this.player.on('pause', this.props.onPause)\n      this.player.on('seeked', e => this.props.onSeek(e.seconds))\n      this.player.on('ended', this.props.onEnded)\n      this.player.on('error', this.props.onError)\n      this.player.on('timeupdate', ({ seconds }) => {\n        this.currentTime = seconds\n      })\n      this.player.on('progress', ({ seconds }) => {\n        this.secondsLoaded = seconds\n      })\n      this.player.on('bufferstart', this.props.onBuffer)\n      this.player.on('bufferend', this.props.onBufferEnd)\n    }, this.props.onError)\n  }\n\n  refreshDuration () {\n    this.player.getDuration().then(duration => {\n      this.duration = duration\n    })\n  }\n\n  play () {\n    const promise = this.callPlayer('play')\n    if (promise) {\n      promise.catch(this.props.onError)\n    }\n  }\n\n  pause () {\n    this.callPlayer('pause')\n  }\n\n  stop () {\n    this.callPlayer('unload')\n  }\n\n  seekTo (seconds) {\n    this.callPlayer('setCurrentTime', seconds)\n  }\n\n  setVolume (fraction) {\n    this.callPlayer('setVolume', fraction)\n  }\n\n  setLoop (loop) {\n    this.callPlayer('setLoop', loop)\n  }\n\n  setPlaybackRate (rate) {\n    this.callPlayer('setPlaybackRate', rate)\n  }\n\n  mute = () => {\n    this.setVolume(0)\n  }\n\n  unmute = () => {\n    if (this.props.volume !== null) {\n      this.setVolume(this.props.volume)\n    }\n  }\n\n  getDuration () {\n    return this.duration\n  }\n\n  getCurrentTime () {\n    return this.currentTime\n  }\n\n  getSecondsLoaded () {\n    return this.secondsLoaded\n  }\n\n  ref = container => {\n    this.container = container\n  }\n\n  render () {\n    const { display } = this.props\n    const style = {\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      display\n    }\n    return (\n      <div\n        key={this.props.url}\n        ref={this.ref}\n        style={style}\n      />\n    )\n  }\n}\n"],"sourceRoot":""}