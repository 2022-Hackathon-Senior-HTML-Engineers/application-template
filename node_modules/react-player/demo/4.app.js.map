{"version":3,"sources":["webpack:///./src/players/Kaltura.js"],"names":["Kaltura","callPlayer","iframe","this","props","onMount","url","getSDK","then","playerjs","player","Player","on","setTimeout","isReady","setLoop","loop","muted","mute","addListeners","onReady","onError","onPlay","onPause","onEnded","duration","seconds","currentTime","fraction","secondsLoaded","ref","src","frameBorder","scrolling","style","width","height","allowFullScreen","allow","referrerPolicy","Component","canPlay","kaltura"],"mappings":"4kDAKA,IAGqBA,E,uaAGNC,K,kBACF,M,qBACG,M,uBACE,M,eA6DT,WACL,EAAKA,WAAW,W,iBAGT,WACP,EAAKA,WAAW,a,cAeZ,SAAAC,GACJ,EAAKA,OAASA,K,2DA/EdC,KAAKC,MAAMC,SAAWF,KAAKC,MAAMC,QAAQF,Q,2BAGrCG,GAAK,WACTC,YAhBY,2CACG,YAeaC,MAAK,SAAAC,GAC1B,EAAKP,SACV,EAAKQ,OAAS,IAAID,EAASE,OAAO,EAAKT,QACvC,EAAKQ,OAAOE,GAAG,SAAS,WAGtBC,YAAW,WACT,EAAKH,OAAOI,SAAU,EACtB,EAAKJ,OAAOK,QAAQ,EAAKX,MAAMY,MAC3B,EAAKZ,MAAMa,OACb,EAAKP,OAAOQ,OAEd,EAAKC,aAAa,EAAKT,OAAQ,EAAKN,OACpC,EAAKA,MAAMgB,YACV,WAEJjB,KAAKC,MAAMiB,W,mCAGFX,EAAQN,GAAO,WAC3BM,EAAOE,GAAG,OAAQR,EAAMkB,QACxBZ,EAAOE,GAAG,QAASR,EAAMmB,SACzBb,EAAOE,GAAG,QAASR,EAAMoB,SACzBd,EAAOE,GAAG,QAASR,EAAMiB,SACzBX,EAAOE,GAAG,cAAc,YAA2B,IAAxBa,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QACnC,EAAKD,SAAWA,EAChB,EAAKE,YAAcD,O,6BAKrBvB,KAAKF,WAAW,U,8BAIhBE,KAAKF,WAAW,W,6DAOVyB,GACNvB,KAAKF,WAAW,iBAAkByB,K,gCAGzBE,GACTzB,KAAKF,WAAW,YAAa2B,K,8BAGtBZ,GACPb,KAAKF,WAAW,UAAWe,K,oCAY3B,OAAOb,KAAKsB,W,uCAIZ,OAAOtB,KAAKwB,c,yCAIZ,OAAOxB,KAAK0B,gB,+BAYZ,OACE,4BACEC,IAAK3B,KAAK2B,IACVC,IAAK5B,KAAKC,MAAME,IAChB0B,YAAY,IACZC,UAAU,KACVC,MAVU,CACZC,MAAO,OACPC,OAAQ,QASNC,iBAAe,EACfC,MAAM,2BACNC,eAAe,oC,8BAzGcC,a,EAAhBxC,E,cACE,W,EADFA,E,UAEFyC,IAAQC","file":"4.app.js","sourcesContent":["import React, { Component } from 'react'\n\nimport { callPlayer, getSDK } from '../utils'\nimport { canPlay } from '../patterns'\n\nconst SDK_URL = 'https://cdn.embed.ly/player-0.1.0.min.js'\nconst SDK_GLOBAL = 'playerjs'\n\nexport default class Kaltura extends Component {\n  static displayName = 'Kaltura'\n  static canPlay = canPlay.kaltura\n  callPlayer = callPlayer\n  duration = null\n  currentTime = null\n  secondsLoaded = null\n\n  componentDidMount () {\n    this.props.onMount && this.props.onMount(this)\n  }\n\n  load (url) {\n    getSDK(SDK_URL, SDK_GLOBAL).then(playerjs => {\n      if (!this.iframe) return\n      this.player = new playerjs.Player(this.iframe)\n      this.player.on('ready', () => {\n        // An arbitrary timeout is required otherwise\n        // the event listeners wonâ€™t work\n        setTimeout(() => {\n          this.player.isReady = true\n          this.player.setLoop(this.props.loop)\n          if (this.props.muted) {\n            this.player.mute()\n          }\n          this.addListeners(this.player, this.props)\n          this.props.onReady()\n        }, 500)\n      })\n    }, this.props.onError)\n  }\n\n  addListeners (player, props) {\n    player.on('play', props.onPlay)\n    player.on('pause', props.onPause)\n    player.on('ended', props.onEnded)\n    player.on('error', props.onError)\n    player.on('timeupdate', ({ duration, seconds }) => {\n      this.duration = duration\n      this.currentTime = seconds\n    })\n  }\n\n  play () {\n    this.callPlayer('play')\n  }\n\n  pause () {\n    this.callPlayer('pause')\n  }\n\n  stop () {\n    // Nothing to do\n  }\n\n  seekTo (seconds) {\n    this.callPlayer('setCurrentTime', seconds)\n  }\n\n  setVolume (fraction) {\n    this.callPlayer('setVolume', fraction)\n  }\n\n  setLoop (loop) {\n    this.callPlayer('setLoop', loop)\n  }\n\n  mute = () => {\n    this.callPlayer('mute')\n  }\n\n  unmute = () => {\n    this.callPlayer('unmute')\n  }\n\n  getDuration () {\n    return this.duration\n  }\n\n  getCurrentTime () {\n    return this.currentTime\n  }\n\n  getSecondsLoaded () {\n    return this.secondsLoaded\n  }\n\n  ref = iframe => {\n    this.iframe = iframe\n  }\n\n  render () {\n    const style = {\n      width: '100%',\n      height: '100%'\n    }\n    return (\n      <iframe\n        ref={this.ref}\n        src={this.props.url}\n        frameBorder='0'\n        scrolling='no'\n        style={style}\n        allowFullScreen\n        allow='encrypted-media;autoplay'\n        referrerPolicy='no-referrer-when-downgrade'\n      />\n    )\n  }\n}\n"],"sourceRoot":""}